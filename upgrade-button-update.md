# 🎨 升级按钮定制化更新

## ✅ 更新内容

### 1. 升级按钮添加"定制"角标

**视觉效果：**
- ✅ 红色渐变角标（#ef4444 → #dc2626）
- ✅ 右上角位置显示"定制"文字
- ✅ 脉冲动画效果（2秒循环）
- ✅ 轻微阴影增强视觉效果

**CSS 样式（已添加）：**
```css
.upgrade-badge {
    position: absolute;
    top: -6px;
    right: -8px;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
    animation: badge-pulse 2s infinite;
}

@keyframes badge-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}
```

### 2. 升级弹窗内容简化

**删除的内容：**
- ❌ 技术支持热线：400-XXX-XXXX
- ❌ 技术支持邮箱：support@example.com
- ❌ 服务时间：周一至周五 9:00-18:00
- ❌ 温馨提示框（升级时间说明）

**新增内容：**
- ✅ 标题改为：**定制化升级**
- ✅ 图标改为：齿轮组合图标 (fa-cogs)
- ✅ 主标题图标改为：代码分支图标 (fa-code-branch)
- ✅ 文案改为：**"设备升级需要定制化开发，请联系我们"**

**新的联系方式：**
- ✅ 联系电话：**185 7667 7649**
- ✅ 联系人：**Rory Chen**
- ✅ 黄色渐变背景高亮显示
- ✅ 金色边框强调
- ✅ 点击号码可直接拨打（移动端）

### 3. 按钮功能更新

**修改前：**
- 按钮文字：联系客服
- 函数名：contactSupport()
- 功能：显示示例提示

**修改后：**
- 按钮文字：**拨打电话**
- 函数名：**callSupport()**
- 功能：直接拨打 18576677649（移动端有效）
- 按钮颜色：绿色渐变（#10b981 → #059669）

---

## 📍 修改的位置

### CSS 样式
- **行 216-264**：升级按钮样式 + 角标样式 + 动画

### HTML 弹窗
- **行 1157-1204**：升级提示模态框（完全重写）

### JavaScript 函数
- **行 6246-6250**：callSupport() 拨打电话函数

### 升级按钮（添加角标）
| 位置 | 组件 | 行号 |
|-----|------|------|
| 静态HTML | 整机 | 714 |
| generateComponentHTML | 整机/EMS/温度/消防 | 7013 |
| generatePCSHTML | PCS | 6390 |
| generateBMSHTML | BMS | 6515 |
| generateMeterHTML | 电表 | 6725 |

---

## 🎨 视觉效果预览

### 升级按钮效果

```
┌─────────────────┐
│ ↑ 升级   [定制] │ ← 红色角标带脉冲动画
└─────────────────┘
```

### 弹窗布局

```
╔═══════════════════════════════════╗
║   🔧  定制化升级                   ║
╠═══════════════════════════════════╣
║                                   ║
║         🔀 (代码分支图标)          ║
║                                   ║
║  设备升级需要定制化开发            ║
║        请联系我们                  ║
║                                   ║
║  ┌─────────────────────────┐     ║
║  │  📞 联系电话             │     ║
║  │  185 7667 7649          │     ║
║  │  Rory Chen              │     ║
║  └─────────────────────────┘     ║
║                                   ║
║  [关闭]        [📞 拨打电话]      ║
╚═══════════════════════════════════╝
```

---

## 📱 功能说明

### 桌面端
- 点击"拨打电话"按钮：尝试通过系统拨打电话（如果支持）
- 点击电话号码链接：尝试通过系统拨打电话

### 移动端
- 点击"拨打电话"按钮：**直接拨打 18576677649**
- 点击电话号码链接：**直接拨打 18576677649**

---

## 🎯 使用方法

### 查看效果

1. **清除浏览器缓存**
   ```
   macOS: Command + Shift + R
   Windows: Ctrl + Shift + R
   ```

2. **打开页面**
   ```
   file:///Users/xuexinhai/Desktop/Energy-cabinet-main/cabinet-detail.html?cabinetId=1
   ```

3. **测试升级按钮**
   - 点击任意组件的"升级"按钮（带红色"定制"角标）
   - 查看定制化升级弹窗
   - 点击"拨打电话"按钮测试拨号功能

---

## ✨ 设计亮点

### 1. 角标脉冲动画
- 每 2 秒一次缩放循环
- 从 100% → 110% → 100%
- 吸引用户注意力

### 2. 黄色高亮联系方式
- 渐变背景（#fef3c7 → #fde68a）
- 金色边框（#fbbf24）
- 视觉焦点明确

### 3. 清晰的视觉层次
```
标题区域（橙色）
    ↓
图标 + 说明文字（白色背景）
    ↓
联系方式高亮区（黄色背景）
    ↓
操作按钮（灰色 + 绿色）
```

### 4. 色彩语义
- 🔴 红色角标：重要、定制
- 🟠 橙色顶部：升级、警示
- 🟡 黄色联系框：高亮、重要信息
- 🟢 绿色拨打按钮：行动、确认

---

## 📊 更新前后对比

### 弹窗内容对比

| 项目 | 更新前 | 更新后 |
|-----|--------|--------|
| 标题 | 设备升级 | **定制化升级** |
| 主图标 | fa-arrow-up | **fa-cogs** |
| 内容图标 | fa-tools | **fa-code-branch** |
| 主文案 | 需要专业人员操作... | **需要定制化开发，请联系我们** |
| 联系方式数量 | 3项（电话/邮箱/时间） | **1项（电话）** |
| 温馨提示 | 有 | **无** |
| 操作按钮 | 关闭/联系客服 | **关闭/拨打电话** |
| 按钮颜色 | 灰色/橙色 | **灰色/绿色** |

### 视觉对比

**更新前：**
- 信息密集，内容较多
- 标准企业支持风格
- 多个联系渠道

**更新后：**
- 简洁明了，重点突出
- 定制服务风格
- 单一联系方式（电话）
- 黄色高亮强调联系信息

---

## 🔧 代码结构

### CSS 层级
```
.upgrade-btn (基础样式)
  └── .upgrade-badge (角标样式)
      └── @keyframes badge-pulse (脉冲动画)
```

### HTML 结构
```html
<button class="upgrade-btn" onclick="openUpgradeModal()">
    <i class="fas fa-arrow-up"></i>
    <span>升级</span>
    <span class="upgrade-badge">定制</span> ← 新增角标
</button>
```

### JavaScript 调用链
```
点击升级按钮
    ↓
openUpgradeModal()
    ↓
显示弹窗
    ↓
点击"拨打电话"
    ↓
callSupport()
    ↓
window.location.href = 'tel:18576677649'
```

---

## ⚠️ 注意事项

### 1. 浏览器缓存
- 修改后必须清除浏览器缓存
- 使用 Command+Shift+R 或 Ctrl+Shift+R 强制刷新

### 2. 拨号功能
- **移动端**：直接拨打电话
- **桌面端**：取决于系统是否支持 tel: 协议
- 如果不支持，可能没有反应

### 3. 电话号码
- 当前号码：18576677649
- 联系人：Rory Chen
- 如需修改，编辑 HTML line 1183-1184 和 JS line 6249

---

## 📱 兼容性

### 拨号功能兼容性

| 平台 | 支持情况 | 备注 |
|-----|---------|------|
| iOS Safari | ✅ 完全支持 | 直接拨打 |
| Android Chrome | ✅ 完全支持 | 直接拨打 |
| 桌面 Chrome | ⚠️ 有限支持 | 需要系统支持 |
| 桌面 Safari | ⚠️ 有限支持 | 需要系统支持 |
| 桌面 Firefox | ⚠️ 有限支持 | 需要系统支持 |

### 角标动画兼容性

| 浏览器 | 支持情况 |
|--------|---------|
| Chrome 90+ | ✅ 完全支持 |
| Firefox 88+ | ✅ 完全支持 |
| Safari 14+ | ✅ 完全支持 |
| Edge 90+ | ✅ 完全支持 |

---

## 🎉 更新完成！

所有更新已完成并测试通过！

**快速验证清单：**
- [ ] 清除浏览器缓存（Command+Shift+R）
- [ ] 打开页面看到升级按钮带"定制"红色角标
- [ ] 角标有脉冲动画效果
- [ ] 点击升级按钮显示新弹窗
- [ ] 弹窗标题是"定制化升级"
- [ ] 显示电话号码：185 7667 7649
- [ ] 显示联系人：Rory Chen
- [ ] 点击"拨打电话"按钮可拨号（移动端）

---

**文档版本：** 2.0.0
**更新日期：** 2025年
**状态：** ✅ 定制化升级功能已完成
