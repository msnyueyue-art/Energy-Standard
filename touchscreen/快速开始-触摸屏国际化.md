# 🚀 快速开始 - 触摸屏国际化系统

## ✨ 功能特性

✅ **默认英文界面** - 系统启动时默认显示英文
✅ **中英文切换** - 支持随时切换中英文
✅ **设置持久化** - 语言选择自动保存
✅ **全页面覆盖** - 7个主要页面全部支持
✅ **200+翻译键** - 覆盖所有常用文本

## 🎯 用户使用指南

### 切换到中文
1. 点击页面右上角的**地球图标**(🌐)
2. 在下拉菜单中选择 **🇨🇳 中文**
3. 页面立即切换为中文

### 切换回英文
1. 点击**地球图标**(🌐)
2. 选择 **🇺🇸 English**
3. 页面切换为英文

### 语言记忆功能
- 系统会记住你的语言选择
- 下次打开时自动使用上次选择的语言

## 📱 支持的页面

| 页面 | 状态 | 功能 |
|------|------|------|
| 🏠 首页 | ✅ 完全支持 | 导航、统计、能量流向 |
| 📊 数据 | ✅ 完全支持 | 导航、实时监控 |
| 📅 历史 | ✅ 完全支持 | 导航、历史记录 |
| 🎮 控制 | ✅ 完全支持 | 导航、操作控制 |
| ⚠️ 告警 | ✅ 完全支持 | 导航、告警列表 |
| 📝 日志 | ✅ 完全支持 | 导航、系统日志 |
| ⚙️ 设置 | ✅ 完全支持 | 导航、系统设置 |

## 🔧 开发者快速参考

### 文件结构
```
touchscreen/
├── touchscreen-i18n.js          # 国际化核心库
├── common-header-scripts.js     # 共享头部脚本
├── home.html                    # 首页(已集成)
├── data.html                    # 数据页(已集成)
├── history.html                 # 历史页(已集成)
├── control.html                 # 控制页(已集成)
├── alarms.html                  # 告警页(已集成)
├── logs.html                    # 日志页(已集成)
└── settings.html                # 设置页(已集成)
```

### 添加新翻译(3步搞定)

#### 步骤1: 在touchscreen-i18n.js中添加翻译键
```javascript
const touchscreenTranslations = {
    zh: {
        myNewText: '我的新文本'  // 添加中文
    },
    en: {
        myNewText: 'My New Text'  // 添加英文
    }
};
```

#### 步骤2: 在HTML中使用data-i18n属性
```html
<div data-i18n="myNewText">我的新文本</div>
```

#### 步骤3: 刷新浏览器
按 **Ctrl+F5** 硬刷新页面,新翻译立即生效!

### 常用翻译键

#### 导航菜单
```
navHome        首页
navData        数据
navHistory     历史
navControl     控制
navAlarm       告警
navLog         日志
navSettings    设置
```

#### 通用按钮
```
save      保存
cancel    取消
confirm   确定
delete    删除
edit      编辑
add       添加
search    搜索
filter    筛选
reset     重置
submit    提交
close     关闭
```

#### 系统信息
```
systemTitle          储能柜管理系统
logoutTitle          退出登录
logoutMessage        退出确认消息
logoutButtonTitle    退出登录提示
```

## 🎨 示例代码

### HTML使用示例
```html
<!-- 文本翻译 -->
<h1 data-i18n="systemTitle">储能柜管理系统</h1>

<!-- 按钮翻译 -->
<button data-i18n="save">保存</button>
<button data-i18n="cancel">取消</button>

<!-- 输入框占位符翻译 -->
<input data-i18n-placeholder="search" placeholder="搜索">

<!-- 标题/提示翻译 -->
<button data-i18n-title="logoutButtonTitle" title="退出登录">
    <i class="fas fa-sign-out-alt"></i>
</button>
```

### JavaScript使用示例
```javascript
// 获取翻译文本
const text = t('systemTitle');
console.log(text); // 英文环境: "Energy Storage System"
                   // 中文环境: "储能柜管理系统"

// 切换语言
switchTouchscreenLanguage('en'); // 切换到英文
switchTouchscreenLanguage('zh'); // 切换到中文

// 获取当前语言
const lang = getTouchscreenLang();
console.log(lang); // 'en' 或 'zh'
```

## ⚡ 快速测试

### 测试步骤
1. ✅ 打开触摸屏系统 - 应显示英文界面
2. ✅ 点击语言切换按钮 - 下拉菜单出现
3. ✅ 选择中文 - 所有文本变为中文
4. ✅ 选择英文 - 所有文本变为英文
5. ✅ 刷新页面 - 保持上次选择的语言
6. ✅ 切换不同页面 - 语言设置保持一致

### 预期结果
- ✅ 默认显示:**英文**
- ✅ 切换流畅:瞬间完成
- ✅ 语言一致:所有页面同步
- ✅ 设置保存:刷新后保持

## 🐛 遇到问题?

### 问题1: 语言切换后部分文本没变?
**解决:** 该文本可能缺少`data-i18n`属性,需要补充添加

### 问题2: 刷新后语言恢复默认?
**解决:** 检查浏览器是否启用localStorage,清除浏览器缓存

### 问题3: 新翻译键不生效?
**解决:** 按Ctrl+F5硬刷新,检查键名拼写是否正确

## 📚 相关文档

- 📄 [详细实施说明](触摸屏国际化实施说明.md) - 完整的技术文档
- 📁 [核心文件](touchscreen-i18n.js) - 翻译键值对定义
- 📁 [头部脚本](common-header-scripts.js) - 语言切换逻辑

## 💡 小贴士

1. **键名规范:** 使用驼峰命名法,如`homeRunningDays`
2. **保持一致:** 相同含义的文本使用相同的键
3. **分类管理:** 按页面或功能模块组织翻译键
4. **及时更新:** 添加新文本时同时添加中英文翻译

---

**版本:** v1.0
**更新日期:** 2026-01-12
**默认语言:** 英文(en)
**支持语言:** 中文(zh) / English(en)
