# 告警页面剩余国际化 - 快速测试清单

## 测试日期
2026年1月12日

## 测试环境
- **浏览器**: Chrome/Edge (推荐)
- **分辨率**: 1366x768 (13.3寸触摸屏标准)
- **测试页面**: `touchscreen-display.html` → Alarm

## 准备工作

### 1. 清除浏览器缓存 ⚠️
**必须执行！否则看不到修复效果**

**方法1 - 硬性刷新：**
- Windows: `Ctrl + Shift + R` 或 `Ctrl + F5`
- Mac: `Cmd + Shift + R`

**方法2 - 清除缓存：**
- Windows: `Ctrl + Shift + Delete`
- Mac: `Cmd + Shift + Delete`
- 选择：缓存的图片和文件
- 时间范围：全部时间
- 点击"清除数据"

### 2. 访问告警页面
1. 打开 `touchscreen-display.html`
2. 登录系统
3. 点击导航栏"告警"（Alarm）

---

## 测试流程

### 阶段1：英文环境测试 🇺🇸

#### 切换到英文
1. 点击右上角语言切换按钮（🌐）
2. 选择 "🇺🇸 English"

#### 检查清单

##### ✅ 1. 系统标题（页面左上角）
```
预期：Energy Storage System
```
- [ ] 显示英文 ✅
- [ ] 字体和样式正常

##### ✅ 2. 导航栏（页面顶部）
```
预期：Home | Data | History | Control | Alarm | Log | Settings
```
- [ ] 全部显示英文
- [ ] "Alarm" 激活状态（蓝色高亮）

##### ✅ 3. 分页信息（页面底部左侧）
```
预期：Showing 1-4 of 70 records
```
- [ ] "Showing" 英文显示
- [ ] "of" 英文显示
- [ ] "records" 英文显示
- [ ] 数字正确显示

##### ✅ 4. 分页控件（页面底部右侧）
```
预期：
- 按钮：Previous | Next
- 页码：Page 1 of 18 pages
```
- [ ] "Previous" 按钮英文显示
- [ ] "Next" 按钮英文显示
- [ ] "Page X of Y pages" 英文显示
- [ ] 数字正确显示

##### ✅ 5. 级别徽章（表格中）
```
预期：
- Critical（红色徽章）
- Major（橙色徽章）
- General（黄色徽章）
```
- [ ] "Critical" 英文显示（严重）
- [ ] "Major" 英文显示（重要）
- [ ] "General" 英文显示（一般）
- [ ] 徽章颜色正确

##### ✅ 6. 状态徽章（表格中）
```
预期：
- Resolved（绿色徽章）
- Unresolved（红色徽章）
```
- [ ] "Resolved" 英文显示（已解决）
- [ ] "Unresolved" 英文显示（未解决）
- [ ] 徽章颜色正确

##### ✅ 7. 操作按钮（表格中）
```
预期：Detail | Resolve
```
- [ ] "Detail" 按钮英文显示
- [ ] "Resolve" 按钮英文显示

##### ✅ 8. 批量解决按钮
```
预期：Batch Resolve
```
- [ ] 按钮英文显示
- [ ] 禁用状态正常

##### ✅ 9. 告警详情对话框
**操作**：点击任意告警的 "Detail" 按钮

**检查项**：
```
预期内容：
- 标题：Alarm Detail
- 标签：Alarm Type, Alarm Description, Current Value, Threshold, Alarm Time
- 状态徽章：Resolved
- 时间标签：Resolve Time
- 未解决状态：Unresolved
- 按钮：Resolve Alarm
```
- [ ] 对话框标题 "Alarm Detail" 英文显示
- [ ] "Alarm Type" 标签英文显示
- [ ] "Alarm Description" 标签英文显示
- [ ] "Current Value" 标签英文显示
- [ ] "Threshold" 标签英文显示
- [ ] "Alarm Time" 标签英文显示
- [ ] "Resolve Time" 标签英文显示
- [ ] "Resolved" 状态徽章英文显示
- [ ] "Unresolved" 状态文本英文显示
- [ ] "Resolve Alarm" 按钮英文显示

##### ✅ 10. 确认对话框（批量解决）
**操作**：
1. 勾选至少1个告警
2. 点击 "Batch Resolve" 按钮

**检查项**：
```
预期内容：
- 标题：Operation Confirm
- 按钮：Cancel | Confirm
```
- [ ] 对话框标题 "Operation Confirm" 英文显示
- [ ] "Cancel" 按钮英文显示
- [ ] "Confirm" 按钮英文显示

##### ✅ 11. 确认对话框（单个解决）
**操作**：
1. 点击任意告警的 "Resolve" 按钮

**检查项**：
```
预期内容：
- 标题：Operation Confirm
- 按钮：Cancel | Confirm
```
- [ ] 对话框标题 "Operation Confirm" 英文显示
- [ ] "Cancel" 按钮英文显示
- [ ] "Confirm" 按钮英文显示

##### ✅ 12. 退出登录对话框
**操作**：
1. 点击右上角退出按钮（🚪图标）

**检查项**：
```
预期内容：
- 标题：Logout
- 消息：Are you sure you want to logout?
- 按钮：Cancel | Logout
```
- [ ] 对话框标题 "Logout" 英文显示
- [ ] 确认消息英文显示
- [ ] "Cancel" 按钮英文显示
- [ ] "Logout" 按钮英文显示

---

### 阶段2：中文环境测试 🇨🇳

#### 切换到中文
1. 点击右上角语言切换按钮（🌐）
2. 选择 "🇨🇳 中文"

#### 检查清单

##### ✅ 1. 系统标题
```
预期：储能柜管理系统
```
- [ ] 显示中文 ✅

##### ✅ 2. 导航栏
```
预期：首页 | 数据 | 历史 | 控制 | 告警 | 日志 | 设置
```
- [ ] 全部显示中文
- [ ] "告警" 激活状态

##### ✅ 3. 分页信息
```
预期：第 1-4 条，共 70 条记录
```
- [ ] 完整中文显示
- [ ] 格式正确

##### ✅ 4. 分页控件
```
预期：
- 按钮：上一页 | 下一页
- 页码：第 1 页，共 18 页
```
- [ ] "上一页" 按钮中文显示
- [ ] "下一页" 按钮中文显示
- [ ] 页码信息中文显示

##### ✅ 5. 级别徽章
```
预期：严重 | 重要 | 一般
```
- [ ] "严重" 中文显示
- [ ] "重要" 中文显示
- [ ] "一般" 中文显示

##### ✅ 6. 状态徽章
```
预期：已解决 | 未解决
```
- [ ] "已解决" 中文显示
- [ ] "未解决" 中文显示

##### ✅ 7. 操作按钮
```
预期：详情 | 解决
```
- [ ] "详情" 按钮中文显示
- [ ] "解决" 按钮中文显示

##### ✅ 8. 批量解决按钮
```
预期：批量解决
```
- [ ] 按钮中文显示

##### ✅ 9. 告警详情对话框
**操作**：点击任意告警的 "详情" 按钮

**检查项**：
```
预期内容：
- 标题：告警详情
- 标签：告警类型、告警描述、当前值、阈值、告警时间、消警时间
- 状态：已解决 | 未解决
- 按钮：解决告警
```
- [ ] 对话框标题 "告警详情" 中文显示
- [ ] 所有标签中文显示
- [ ] 状态中文显示
- [ ] 按钮中文显示

##### ✅ 10. 确认对话框
```
预期内容：
- 标题：操作确认
- 按钮：取消 | 确认
```
- [ ] 对话框标题中文显示
- [ ] 按钮中文显示

##### ✅ 11. 退出登录对话框
```
预期内容：
- 标题：确认退出
- 消息：您确定要退出登录吗？
- 按钮：取消 | 退出
```
- [ ] 对话框标题中文显示
- [ ] 确认消息中文显示
- [ ] 按钮中文显示

---

### 阶段3：切换稳定性测试 🔄

#### 多次切换
1. 中文 → 英文 → 中文 → 英文（重复3次）

#### 检查项
- [ ] 每次切换后所有文本正确显示
- [ ] 分页信息立即更新
- [ ] 级别徽章立即更新
- [ ] 状态徽章立即更新
- [ ] 无JavaScript错误
- [ ] 页面功能正常

#### 分页切换测试
**操作**：
1. 切换到英文
2. 点击 "Next" 按钮翻页
3. 检查分页信息是否更新为英文
4. 切换到中文
5. 检查分页信息是否更新为中文

**检查项**：
- [ ] 翻页后分页信息正确更新
- [ ] 语言切换后分页信息正确翻译
- [ ] 页码正确显示

---

## 故障排查

### 问题1：切换后仍显示中文
**解决方案**：
1. 清除浏览器缓存（Ctrl+Shift+Delete）
2. 硬性刷新页面（Ctrl+Shift+R）
3. 检查浏览器控制台是否有JavaScript错误

### 问题2：分页信息未更新
**解决方案**：
1. 检查 `touchscreen-i18n.js` 是否正确加载
2. 检查 `updatePaginationTranslations()` 函数是否存在
3. 查看浏览器控制台错误信息

### 问题3：级别/状态徽章未翻译
**解决方案**：
1. 刷新页面
2. 切换语言后，表格会重新渲染
3. 检查 `renderAlarmTable()` 函数是否被调用

### 问题4：对话框文本未翻译
**解决方案**：
1. 检查 HTML 中是否包含 `data-i18n` 属性
2. 检查 `applyTouchscreenTranslations()` 函数是否正常工作
3. 查看浏览器控制台错误信息

---

## 测试结果记录

### 英文环境测试
- [ ] 系统标题：✅ / ❌
- [ ] 导航栏：✅ / ❌
- [ ] 分页信息：✅ / ❌
- [ ] 分页控件：✅ / ❌
- [ ] 级别徽章：✅ / ❌
- [ ] 状态徽章：✅ / ❌
- [ ] 操作按钮：✅ / ❌
- [ ] 批量解决按钮：✅ / ❌
- [ ] 告警详情对话框：✅ / ❌
- [ ] 确认对话框：✅ / ❌
- [ ] 退出登录对话框：✅ / ❌

### 中文环境测试
- [ ] 所有内容正确显示中文：✅ / ❌

### 切换稳定性测试
- [ ] 多次切换无异常：✅ / ❌
- [ ] 分页切换正常：✅ / ❌

### 总体评价
- [ ] 功能完整性：✅ / ❌
- [ ] 翻译准确性：✅ / ❌
- [ ] 用户体验：✅ / ❌

---

## 测试完成 ✅

**测试人员**：_______________
**测试日期**：_______________
**测试结果**：通过 / 不通过
**备注**：_______________

---

**相关文档：**
- `ALARM_REMAINING_I18N_FIX_COMPLETE.md` - 详细修复说明
- `国际化修复总结-2026-01-12.md` - 总体修复总结
