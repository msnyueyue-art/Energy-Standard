# 快速测试清单 - 控制页面按钮响应式显示

## 测试目标
验证英文环境下，按钮文本能够自适应按钮大小，长单词自动换行，确保所有文本完整可见。

## 测试步骤

### 1. 打开控制页面
访问: `touchscreen-display.html` → 登录 → 点击导航栏 "Control"

### 2. 切换到英文环境 🇺🇸
✅ 点击右上角语言切换按钮(🌐)
✅ 选择 "🇺🇸 English"

### 3. 重点测试项 - 按钮文本显示

#### ✅ 运行模式控制区块
**手动模式按钮:**
- [ ] "Charging" 按钮 - 完整显示,单行,无截断
- [ ] "Discharging" 按钮 - 完整显示,单行,无截断

**预期效果:**
- 按钮高度: 48px (单行)
- 字体大小: 16px
- 文本居中对齐

---

#### ✅ 电池参数设置区块
**均衡控制按钮:**
- [ ] "Active Balance" - 完整显示
- [ ] "Passive Balance" - 完整显示

**风扇控制按钮:**
- [ ] "Auto" - 完整显示
- [ ] "On" - 完整显示
- [ ] "Off" - 完整显示

**温度保护按钮:**
- [ ] "On" - 完整显示
- [ ] "Off" - 完整显示

**预期效果:**
- 按钮高度: 48px (单行)
- 英文字体: 14px (比中文小2px)
- 两列布局字体: 13px

---

#### ⭐ 消防控制区块（重点测试区域）

**灭火启动按钮:**
- [ ] "Auto Start" - 完整显示,单行
- [ ] "Manual Start" - 完整显示,单行
- [ ] "Disabled" - 完整显示,单行

**灭火剂类型按钮（超长单词测试）:**
- [ ] **"Perfluorohexanone"** (18字母) - **自动换行为两行**
  - 第一行: Perfluorohe 或 Perfluoro-
  - 第二行: xanone 或 hexanone
  - ✅ 无文字被截断
  - ✅ 按钮高度自动增加到 60-70px

- [ ] **"Heptafluoropropane"** (17字母) - **自动换行为两行**
  - 第一行: Heptafluoro-
  - 第二行: propane
  - ✅ 无文字被截断
  - ✅ 按钮高度自动增加

- [ ] "IG541 Mixed Gas" - 根据宽度可能单行或两行

- [ ] "Carbon Dioxide" - 完整显示,可能两行

**声光报警按钮:**
- [ ] "Enabled" - 完整显示
- [ ] "Disabled" - 完整显示
- [ ] "Test Mode" - 完整显示

**通风控制按钮:**
- [ ] "Auto Control" - 完整显示,可能两行
- [ ] "Force On" - 完整显示
- [ ] "Force Off" - 完整显示

**紧急断电按钮:**
- [ ] "Auto" - 完整显示
- [ ] "Manual" - 完整显示
- [ ] "Disabled" - 完整显示

**预期效果:**
- 短文本按钮: 48px高度,单行显示
- 长文本按钮: 60-70px高度,自动两行显示
- 英文字体: 14px
- 两列布局字体: 13px
- 文本居中对齐,行间距合理

---

### 4. 视觉检查要点

#### 文本显示检查 ✅
- [ ] 所有文本完整可见,无截断
- [ ] 长单词正确换行,不溢出按钮边界
- [ ] 文本居中对齐(水平和垂直)
- [ ] 行间距适中,不拥挤

#### 按钮样式检查 ✅
- [ ] 按钮高度自动适应文本(单行48px,双行60-70px)
- [ ] 按钮宽度保持一致(120px)
- [ ] 按钮之间的间距均匀
- [ ] 边框和圆角样式正常

#### 交互检查 ✅
- [ ] 按钮hover效果正常(背景色变化,边框高亮)
- [ ] 按钮点击功能正常
- [ ] active状态样式正确(蓝色高亮)

---

### 5. 切换回中文环境 🇨🇳

✅ 切换回 "🇨🇳 中文"

#### 验证中文显示 ✅
- [ ] 所有按钮恢复为中文文本
- [ ] 按钮高度恢复为48px单行
- [ ] 字体大小恢复为16px
- [ ] 文本对齐正常
- [ ] 无异常换行

---

### 6. 多次切换测试

✅ 中文 ↔️ 英文 切换 3-5 次

#### 验证稳定性 ✅
- [ ] 每次切换后字体大小正确
- [ ] 每次切换后按钮高度正确
- [ ] 每次切换后文本换行正确
- [ ] 无闪烁或布局抖动
- [ ] 控制台无错误

---

## 预期效果对比表

### 按钮高度对比

| 按钮文本 | 中文高度 | 英文高度 | 换行情况 |
|---------|---------|---------|---------|
| 充电/Charging | 48px | 48px | 都不换行 |
| 自动启动/Auto Start | 48px | 48px | 都不换行 |
| 全氟己酮/Perfluorohexanone | 48px | 60-70px | 中文不换行,英文换行 |
| 七氟丙烷/Heptafluoropropane | 48px | 60-70px | 中文不换行,英文换行 |
| 声光报警/Audio-Visual Alarm | 48px | 60-70px | 中文不换行,英文可能换行 |
| 紧急断电/Emergency Power Off | 48px | 60-70px | 中文不换行,英文换行 |

### 字体大小对比

| 按钮位置 | 中文字体 | 英文字体 | 缩小比例 |
|---------|---------|---------|---------|
| 单列布局 | 16px | 14px | 87.5% |
| 两列布局 | 15px | 13px | 86.7% |

---

## 测试通过标准

### 必须满足 ✅
- ✅ 所有英文文本完整可见,无截断
- ✅ 长英文单词自动换行为两行
- ✅ 按钮高度自动适应文本内容
- ✅ 英文字体自动减小(14px或13px)
- ✅ 中文环境不受影响,保持原样
- ✅ 语言切换实时生效,无需刷新
- ✅ 控制台无JavaScript错误

### 视觉效果 ✅
- ✅ 文本居中对齐
- ✅ 行间距合理(line-height: 1.2-1.3)
- ✅ 按钮间距一致
- ✅ hover和active效果正常
- ✅ 整体布局美观整洁

---

## 常见问题排查

### Q1: 英文文本还是被截断?
**排查步骤:**
1. 清除浏览器缓存 (Ctrl+Shift+Delete)
2. 刷新页面 (F5)
3. 检查控制台是否有CSS加载错误
4. 验证 `control.html` 是否包含最新的CSS修改

### Q2: 按钮高度没有自动增加?
**可能原因:**
- CSS的 `white-space: normal` 未生效
- 浏览器缓存未清除
- HTML中的 `<span data-i18n>` 标签结构不正确

**解决方法:**
1. 硬刷新页面 (Ctrl+F5)
2. 检查开发者工具中 `.select-btn` 的计算样式
3. 确认 `white-space` 属性为 `normal`

### Q3: 中英文字体大小相同?
**可能原因:**
- `html[lang="en"]` 选择器未生效
- HTML标签缺少 `lang` 属性

**解决方法:**
1. 检查 `<html>` 标签是否有 `lang="en"` 或 `lang="zh"`
2. 验证 `common-header-scripts.js` 是否正确设置语言属性

### Q4: 文本换行后显示不整齐?
**可能原因:**
- `line-height` 设置不合理
- `text-align` 未设置为 `center`

**解决方法:**
- 检查CSS中的 `line-height: 1.2` 是否生效
- 确认 `display: flex` + `align-items: center` 正确应用

---

## 浏览器兼容性测试

### 推荐测试浏览器
1. ✅ **Chrome** (最新版) - 主要测试浏览器
2. ✅ **Edge** (最新版) - 与Chrome相同引擎
3. ✅ **Firefox** (最新版) - 次要测试
4. ⚠️ **Safari** (如有Mac设备) - 验证兼容性

### 各浏览器预期结果
- Chrome/Edge: 完美支持所有CSS特性
- Firefox: 完美支持,无差异
- Safari: 支持,使用 `word-wrap` 实现换行
- IE11: 基本支持,但不推荐生产环境使用

---

## 测试完成检查清单

在提交测试报告前,确保完成以下所有项:

- [ ] 1. 英文环境下所有按钮文本完整可见
- [ ] 2. 长单词(Perfluorohexanone等)正确换行
- [ ] 3. 按钮高度自动适应(单行/双行)
- [ ] 4. 英文字体自动减小(14px/13px)
- [ ] 5. 中文环境显示正常,无异常
- [ ] 6. 多次语言切换稳定,无bug
- [ ] 7. 按钮交互功能正常
- [ ] 8. 控制台无JavaScript错误
- [ ] 9. 视觉效果整洁美观
- [ ] 10. 至少在Chrome浏览器测试通过

---

**测试准备日期**: 2026-01-12
**修复文件**: `touchscreen/control.html`
**相关文档**: `CONTROL_BUTTON_RESPONSIVE_FIX.md`, `国际化修复总结-2026-01-12.md`

**测试重点**: 消防控制区块的灭火剂类型按钮(超长英文单词自动换行)
