/**
 * 1024px 屏幕适配样式
 * 优化系统在1024px分辨率下的显示效果
 * 适用于所有页面
 */

/* ========================================
   1. 基础布局调整 (1024px及以下)
   ======================================== */
@media (max-width: 1024px) {

    /* 内容区域自适应 */
    .content {
        padding: 16px !important;
        margin-left: 200px; /* 侧边栏宽度 */
    }

    /* 主容器 */
    .container,
    .main-container {
        max-width: 100% !important;
        padding: 12px !important;
    }

    /* 卡片间距 */
    .card,
    .dashboard-card,
    .stats-card {
        margin-bottom: 16px !important;
    }

    /* 表单控件 */
    .form-control,
    .form-input,
    input[type="text"],
    input[type="password"],
    select {
        font-size: 13px !important;
    }

    /* 按钮 */
    button,
    .btn {
        padding: 8px 16px !important;
        font-size: 13px !important;
    }

    /* 表格 */
    table {
        font-size: 13px !important;
    }

    table th,
    table td {
        padding: 8px !important;
    }

    /* 模态框 */
    .modal-content {
        max-width: 90% !important;
        margin: 20px auto !important;
    }
}

/* ========================================
   2. 头部导航优化
   ======================================== */
@media (max-width: 1024px) {

    .header {
        padding: 0 16px !important;
        height: 60px !important;
    }

    .header-left .logo {
        font-size: 16px !important;
    }

    .header-left .logo img {
        height: 32px !important;
    }

    /* 版本徽章缩小 */
    .version-badge {
        font-size: 10px !important;
        padding: 2px 6px !important;
        margin-left: 8px !important;
    }

    /* 头部图标 */
    .header-right i {
        font-size: 18px !important;
    }

    /* 用户名隐藏（空间不够） */
    .user-name {
        display: none !important;
    }
}

/* ========================================
   3. 侧边栏优化
   ======================================== */
@media (max-width: 1024px) {

    .sidebar {
        width: 200px !important;
    }

    .menu-item {
        padding: 10px 12px !important;
        font-size: 13px !important;
    }

    .menu-item span:first-child {
        font-size: 16px !important;
        margin-right: 8px !important;
    }

    .submenu-item {
        padding: 8px 12px 8px 36px !important;
        font-size: 12px !important;
    }
}

/* ========================================
   4. 仪表盘页面优化
   ======================================== */
@media (max-width: 1024px) {

    /* 统计卡片网格 */
    .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
    }

    /* 图表容器 */
    .chart-container {
        height: 280px !important;
    }

    /* 仪表盘卡片 */
    .dashboard-card {
        padding: 12px !important;
    }

    .dashboard-card h3 {
        font-size: 15px !important;
    }
}

/* ========================================
   5. 设备管理页面优化 (devices1.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 搜索栏 */
    .search-bar,
    .filter-bar {
        flex-wrap: wrap !important;
        gap: 8px !important;
    }

    .search-bar > *,
    .filter-bar > * {
        flex: 1 1 auto !important;
        min-width: 120px !important;
    }

    /* 设备表格 */
    #deviceTableBody tr td {
        padding: 8px 6px !important;
        font-size: 12px !important;
    }

    /* 状态徽章 */
    .status-badge {
        font-size: 11px !important;
        padding: 3px 8px !important;
    }

    /* 操作按钮 */
    .action-btn {
        padding: 4px 8px !important;
        font-size: 11px !important;
    }
}

/* ========================================
   6. 消息统计页面优化 (alarm-statistics.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 顶部标签 */
    .top-tabs {
        gap: 8px !important;
    }

    .top-tab {
        padding: 10px 16px !important;
        font-size: 13px !important;
    }

    /* 统计卡片 */
    .stat-card-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* 排名卡片和图表 */
    .ranking-card,
    .chart-card {
        margin-bottom: 12px !important;
    }

    /* 表格行高 */
    .ranking-table tr {
        height: 36px !important;
    }
}

/* ========================================
   7. 站点管理页面优化 (site1.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 站点卡片网格 */
    .sites-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
    }

    .site-card {
        padding: 12px !important;
    }

    .site-card h3 {
        font-size: 14px !important;
    }
}

/* ========================================
   8. 电价配置页面优化 (electricity-price-new.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 时段表格 */
    .time-period-table {
        font-size: 12px !important;
    }

    .time-period-table th,
    .time-period-table td {
        padding: 6px !important;
    }

    /* 输入框 */
    .price-input,
    .time-input {
        width: 60px !important;
        font-size: 12px !important;
        padding: 4px 6px !important;
    }
}

/* ========================================
   9. 报告页面优化 (power-report.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 报告卡片 */
    .report-card {
        padding: 12px !important;
    }

    /* 图表高度 */
    .report-chart {
        height: 250px !important;
    }

    /* 数据表格 */
    .report-table {
        font-size: 12px !important;
    }
}

/* ========================================
   10. 规则引擎页面优化 (rule-engine.html)
   ======================================== */
@media (max-width: 1024px) {

    /* 策略卡片 */
    .strategy-card {
        margin-bottom: 12px !important;
    }

    /* 条件编辑器 */
    .condition-editor {
        padding: 10px !important;
        font-size: 12px !important;
    }

    /* 时间轴 */
    .timeline-item {
        padding: 8px !important;
    }
}

/* ========================================
   11. 通用组件优化
   ======================================== */
@media (max-width: 1024px) {

    /* 抽屉/侧滑面板 */
    .drawer {
        width: 400px !important;
        max-width: 90% !important;
    }

    /* 下拉菜单 */
    .dropdown-menu {
        min-width: 140px !important;
        font-size: 13px !important;
    }

    /* 标签页 */
    .tabs {
        overflow-x: auto !important;
        flex-wrap: nowrap !important;
    }

    .tab {
        padding: 8px 12px !important;
        font-size: 13px !important;
        white-space: nowrap !important;
    }

    /* 分页 */
    .pagination {
        font-size: 13px !important;
    }

    .pagination button {
        padding: 6px 10px !important;
    }

    /* 提示框 */
    .tooltip {
        font-size: 12px !important;
        max-width: 200px !important;
    }

    /* 徽章 */
    .badge {
        font-size: 11px !important;
        padding: 2px 6px !important;
    }
}

/* ========================================
   12. 滚动条优化
   ======================================== */
@media (max-width: 1024px) {

    /* 自定义滚动条 */
    ::-webkit-scrollbar {
        width: 6px !important;
        height: 6px !important;
    }

    ::-webkit-scrollbar-thumb {
        background: #cbd5e1 !important;
        border-radius: 3px !important;
    }

    ::-webkit-scrollbar-track {
        background: #f1f5f9 !important;
    }
}

/* ========================================
   13. 文本溢出处理
   ======================================== */
@media (max-width: 1024px) {

    /* 单行文本溢出省略 */
    .text-ellipsis,
    .site-name,
    .device-name,
    .alarm-message {
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }

    /* 多行文本溢出 */
    .text-clamp-2 {
        display: -webkit-box !important;
        -webkit-line-clamp: 2 !important;
        -webkit-box-orient: vertical !important;
        overflow: hidden !important;
    }
}

/* ========================================
   14. 间距系统重定义
   ======================================== */
@media (max-width: 1024px) {

    /* 减小间距 */
    .mb-1 { margin-bottom: 4px !important; }
    .mb-2 { margin-bottom: 8px !important; }
    .mb-3 { margin-bottom: 12px !important; }
    .mb-4 { margin-bottom: 16px !important; }
    .mb-5 { margin-bottom: 20px !important; }

    .p-1 { padding: 4px !important; }
    .p-2 { padding: 8px !important; }
    .p-3 { padding: 12px !important; }
    .p-4 { padding: 16px !important; }
    .p-5 { padding: 20px !important; }

    .gap-1 { gap: 4px !important; }
    .gap-2 { gap: 8px !important; }
    .gap-3 { gap: 12px !important; }
    .gap-4 { gap: 16px !important; }
}

/* ========================================
   15. 隐藏非必要元素
   ======================================== */
@media (max-width: 1024px) {

    /* 隐藏装饰性图标 */
    .decorative-icon {
        display: none !important;
    }

    /* 隐藏辅助说明文本 */
    .helper-text {
        display: none !important;
    }

    /* 隐藏非关键列（表格） */
    .optional-column {
        display: none !important;
    }
}

/* ========================================
   16. 打印样式优化
   ======================================== */
@media print {
    .sidebar,
    .header,
    .action-btn,
    button {
        display: none !important;
    }

    .content {
        margin-left: 0 !important;
        padding: 0 !important;
    }

    body {
        font-size: 12px !important;
    }
}

/* ========================================
   17. 特定页面微调
   ======================================== */

/* Dashboard 特定优化 */
@media (max-width: 1024px) {
    #dashboard .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    #dashboard .chart-row {
        flex-direction: column !important;
    }

    #dashboard .chart-col {
        width: 100% !important;
        margin-bottom: 16px !important;
    }
}

/* 设备列表特定优化 */
@media (max-width: 1024px) {
    #devices1 .device-table-wrapper {
        overflow-x: auto !important;
    }

    #devices1 table {
        min-width: 800px !important;
    }
}

/* 告警统计特定优化 */
@media (max-width: 1024px) {
    #alarm-statistics .stats-container {
        flex-direction: column !important;
    }

    #alarm-statistics .ranking-card,
    #alarm-statistics .chart-card {
        width: 100% !important;
    }
}

/* ========================================
   18. 性能优化
   ======================================== */
@media (max-width: 1024px) {

    /* 禁用动画以提升性能 */
    .disable-animations * {
        animation-duration: 0s !important;
        transition-duration: 0s !important;
    }

    /* 减少阴影复杂度 */
    .card,
    .modal,
    .dropdown-menu {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    }
}

/* ========================================
   19. Flexbox 布局修正
   ======================================== */
@media (max-width: 1024px) {

    /* 强制换行 */
    .flex-wrap-1024 {
        flex-wrap: wrap !important;
    }

    /* 列方向 */
    .flex-column-1024 {
        flex-direction: column !important;
    }

    /* 子元素充满宽度 */
    .flex-1024-full > * {
        width: 100% !important;
        margin-bottom: 12px !important;
    }
}

/* ========================================
   20. 网格布局修正
   ======================================== */
@media (max-width: 1024px) {

    /* 强制单列 */
    .grid-1024-1col {
        grid-template-columns: 1fr !important;
    }

    /* 强制双列 */
    .grid-1024-2col {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* 自动适应 */
    .grid-1024-auto {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
    }
}
