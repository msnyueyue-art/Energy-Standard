# è´¦å·è®¾ç½®é¡µé¢å›½é™…åŒ–ä¿®å¤ - å®Œæ•´æ–¹æ¡ˆ

## é—®é¢˜ç°è±¡

åœ¨è‹±æ–‡ç¯å¢ƒä¸‹,è´¦å·è®¾ç½®é¡µé¢ä»ç„¶æ˜¾ç¤ºä¸­æ–‡,ç¿»è¯‘æ²¡æœ‰ç”Ÿæ•ˆã€‚

## é—®é¢˜æ ¹æº

ç»è¿‡åˆ†æ,å‘ç°äº†**ä¸¤ä¸ªé—®é¢˜**:

### é—®é¢˜1: ç¼ºå°‘ç¿»è¯‘é”®å®šä¹‰ âœ… (å·²ä¿®å¤)

`common.js` ä¸­ç¼ºå°‘è´¦å·è®¾ç½®é¡µé¢çš„ç¿»è¯‘é”®å®šä¹‰ã€‚

**è§£å†³æ–¹æ¡ˆ**: åœ¨ common.js ä¸­æ·»åŠ äº†26ä¸ªç¿»è¯‘é”®(ä¸­è‹±æ–‡)ã€‚

### é—®é¢˜2: setLanguage å‡½æ•°ä¸æ”¯æŒ data-i18n å±æ€§ âš ï¸ (å…³é”®é—®é¢˜)

`account-settings.html` ä½¿ç”¨çš„æ˜¯ `data-i18n` å±æ€§:
```html
<h1 data-i18n="accountSettings.pageTitle">è´¦å·è®¾ç½®</h1>
```

ä½† `common.js` ä¸­çš„ `setLanguage` å‡½æ•°åªå¤„ç†ä»¥ä¸‹å±æ€§:
- âœ… `id` (ç›´æ¥é€šè¿‡ ID æŸ¥æ‰¾)
- âœ… `data-translate`
- âœ… `data-translate-placeholder`
- âœ… `data-translate-title`
- âœ… `data-translate-value`
- âœ… `data-station`
- âŒ **`data-i18n` (ä¸æ”¯æŒ!)**

è¿™å¯¼è‡´å³ä½¿æ·»åŠ äº†ç¿»è¯‘é”®,é¡µé¢ä¹Ÿæ— æ³•åº”ç”¨ç¿»è¯‘ã€‚

## å®Œæ•´è§£å†³æ–¹æ¡ˆ

### ä¿®å¤1: æ·»åŠ ç¿»è¯‘é”®å®šä¹‰ (å·²å®Œæˆ)

åœ¨ `common.js` ä¸­æ·»åŠ äº†å®Œæ•´çš„ç¿»è¯‘é”®å®šä¹‰:

#### ä¸­æ–‡ç¿»è¯‘ (ç¬¬2183-2208è¡Œ)
```javascript
// === è´¦å·è®¾ç½®é¡µé¢ç¿»è¯‘ ===
'accountSettings.pageTitle': 'è´¦å·è®¾ç½®',
'accountSettings.pageSubtitle': 'ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦å·å®‰å…¨',
'accountSettings.tabs.basicInfo': 'åŸºç¡€ä¿¡æ¯',
'accountSettings.tabs.changePassword': 'ä¿®æ”¹å¯†ç ',
// ... å…±26ä¸ªç¿»è¯‘é”®
```

#### è‹±æ–‡ç¿»è¯‘ (ç¬¬5598-5623è¡Œ)
```javascript
// === Account Settings Page Translations ===
'accountSettings.pageTitle': 'Account Settings',
'accountSettings.pageSubtitle': 'Manage your personal information and account security',
'accountSettings.tabs.basicInfo': 'Basic Info',
'accountSettings.tabs.changePassword': 'Change Password',
// ... å…±26ä¸ªç¿»è¯‘é”®
```

### ä¿®å¤2: åœ¨ setLanguage å‡½æ•°ä¸­æ·»åŠ  data-i18n æ”¯æŒ (ç¬¬7196-7213è¡Œ)

```javascript
// å¤„ç†data-i18nå±æ€§çš„å…ƒç´ ï¼ˆç”¨äºæ”¯æŒåµŒå¥—çš„ç¿»è¯‘é”®ï¼Œå¦‚ accountSettings.pageTitleï¼‰
document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (t[key]) {
        // æ ¹æ®å…ƒç´ ç±»å‹è®¾ç½®ä¸åŒçš„å±æ€§
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            // è¾“å…¥æ¡†è®¾ç½® placeholder
            if (el.type === 'text' || el.type === 'password' || el.type === 'email' || el.tagName === 'TEXTAREA') {
                el.placeholder = t[key];
            } else {
                el.value = t[key];
            }
        } else {
            // å…¶ä»–å…ƒç´ è®¾ç½® textContent
            el.textContent = t[key];
        }
    }
});
```

## æŠ€æœ¯ç»†èŠ‚

### data-i18n å¤„ç†é€»è¾‘

æ–°å¢çš„ä»£ç ä¼š:

1. **æŸ¥æ‰¾æ‰€æœ‰å¸¦ data-i18n å±æ€§çš„å…ƒç´ **
   ```javascript
   document.querySelectorAll('[data-i18n]')
   ```

2. **è·å–ç¿»è¯‘é”®**
   ```javascript
   const key = el.getAttribute('data-i18n');
   // key = "accountSettings.pageTitle"
   ```

3. **åœ¨ç¿»è¯‘å¯¹è±¡ä¸­æŸ¥æ‰¾å¯¹åº”çš„ç¿»è¯‘**
   ```javascript
   if (t[key]) {
       // t['accountSettings.pageTitle'] = "Account Settings" (è‹±æ–‡)
       // t['accountSettings.pageTitle'] = "è´¦å·è®¾ç½®" (ä¸­æ–‡)
   }
   ```

4. **æ ¹æ®å…ƒç´ ç±»å‹åº”ç”¨ç¿»è¯‘**
   - **è¾“å…¥æ¡†** (INPUT, TEXTAREA):
     - text/password/email ç±»å‹: è®¾ç½® `placeholder`
     - å…¶ä»–ç±»å‹: è®¾ç½® `value`
   - **å…¶ä»–å…ƒç´ ** (DIV, SPAN, H1, LABELç­‰): è®¾ç½® `textContent`

### ä¸ºä»€ä¹ˆéœ€è¦æ”¯æŒ data-i18n?

**åŸå› 1: æ”¯æŒåµŒå¥—çš„ç¿»è¯‘é”®**

`data-i18n` å±æ€§å…è®¸ä½¿ç”¨ç‚¹å·åˆ†éš”çš„åµŒå¥—é”®å:
```javascript
'accountSettings.pageTitle'
'accountSettings.basicInfo.avatar'
'accountSettings.passwordSettings.currentPassword'
```

è¿™æ ·å¯ä»¥æ›´å¥½åœ°ç»„ç»‡ç¿»è¯‘æ•°æ®,é¿å…é”®åå†²çªã€‚

**åŸå› 2: ä¸å…¶ä»–å›½é™…åŒ–åº“çš„å‘½åè§„èŒƒä¸€è‡´**

è®¸å¤šæµè¡Œçš„å›½é™…åŒ–åº“(å¦‚ i18next)éƒ½ä½¿ç”¨ `data-i18n` ä½œä¸ºæ ‡å‡†å±æ€§åã€‚

**åŸå› 3: è¯­ä¹‰æ›´æ¸…æ™°**

`data-i18n` æ¯” `data-translate` æ›´æ˜ç¡®åœ°è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå›½é™…åŒ–ç¿»è¯‘æ ‡è®°ã€‚

## ä¿®å¤å‰åå¯¹æ¯”

### ä¿®å¤å‰ âŒ

**ç¿»è¯‘æµç¨‹:**
```
1. é¡µé¢åŠ è½½
   â†“
2. common.js æ‰§è¡Œ setLanguage('en')
   â†“
3. æŸ¥æ‰¾ data-translate å…ƒç´  â†’ æ‰¾åˆ° 0 ä¸ª
   â†“
4. å¿½ç•¥æ‰€æœ‰ data-i18n å…ƒç´  âŒ
   â†“
5. é¡µé¢ä»æ˜¾ç¤ºä¸­æ–‡
```

### ä¿®å¤å âœ…

**ç¿»è¯‘æµç¨‹:**
```
1. é¡µé¢åŠ è½½
   â†“
2. common.js æ‰§è¡Œ setLanguage('en')
   â†“
3. æŸ¥æ‰¾ data-translate å…ƒç´  â†’ å¤„ç†
   â†“
4. æŸ¥æ‰¾ data-i18n å…ƒç´  â†’ æ‰¾åˆ°æ‰€æœ‰è´¦å·è®¾ç½®å…ƒç´  âœ…
   â†“
5. åº”ç”¨è‹±æ–‡ç¿»è¯‘
   â†“
6. é¡µé¢æ­£ç¡®æ˜¾ç¤ºè‹±æ–‡
```

## æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤

1. **åˆ·æ–°é¡µé¢**:
   - æŒ‰ Ctrl+F5 (Windows) æˆ– Cmd+Shift+R (Mac) å¼ºåˆ¶åˆ·æ–°
   - ç¡®ä¿æµè§ˆå™¨åŠ è½½æœ€æ–°çš„ common.js

2. **åˆ‡æ¢åˆ°è‹±æ–‡ç¯å¢ƒ**:
   - ç‚¹å‡»è¯­è¨€åˆ‡æ¢æŒ‰é’®
   - é€‰æ‹© "English"

3. **è®¿é—®è´¦å·è®¾ç½®é¡µé¢**:
   - ç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·å¤´åƒ
   - é€‰æ‹© "Account Settings"

4. **éªŒè¯ç¿»è¯‘æ•ˆæœ**:
   - âœ… é¡µé¢æ ‡é¢˜: "Account Settings"
   - âœ… å‰¯æ ‡é¢˜: "Manage your personal information..."
   - âœ… æ ‡ç­¾é¡µ: "Basic Info" / "Change Password"
   - âœ… è¡¨å•æ ‡ç­¾: "Avatar", "Nickname", "Current Password"ç­‰
   - âœ… æŒ‰é’®: "Save", "Reset", "Change Password"ç­‰

5. **éªŒè¯åŠ¨æ€åˆ‡æ¢**:
   - åœ¨è´¦å·è®¾ç½®é¡µé¢,åˆ‡æ¢å›ä¸­æ–‡
   - âœ… æ‰€æœ‰æ–‡æœ¬åº”ç«‹å³åˆ‡æ¢ä¸ºä¸­æ–‡
   - å†åˆ‡æ¢å›è‹±æ–‡
   - âœ… æ‰€æœ‰æ–‡æœ¬åº”ç«‹å³åˆ‡æ¢ä¸ºè‹±æ–‡

### é¢„æœŸç»“æœ

**è‹±æ–‡ç¯å¢ƒä¸‹:**
```
Account Settings
Manage your personal information and account security

[Basic Info] [Change Password]

Basic Information
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Avatar: [Change Avatar] [Remove]
Supports JPG, PNG formats, max 2MB

Nickname: guest [Save]

Password Settings
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Verification Method:
â—‹ Verify with Current Password  â—‹ Verify with Email

Current Password: [Please enter current password]
New Password: [Please enter new password]
Confirm Password: [Please re-enter new password]

[Reset] [Change Password]
```

**ä¸­æ–‡ç¯å¢ƒä¸‹:**
```
è´¦å·è®¾ç½®
ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦å·å®‰å…¨

[åŸºç¡€ä¿¡æ¯] [ä¿®æ”¹å¯†ç ]

åŸºæœ¬ä¿¡æ¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å¤´åƒ: [æ›´æ¢å¤´åƒ] [åˆ é™¤]
æ”¯æŒ JPGã€PNG æ ¼å¼,å¤§å°ä¸è¶…è¿‡ 2MB

æ˜µç§°: guest [ä¿å­˜]

å¯†ç è®¾ç½®
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¿®æ”¹æ–¹å¼:
â—‹ ä½¿ç”¨åŸå¯†ç éªŒè¯  â—‹ ä½¿ç”¨é‚®ç®±éªŒè¯

åŸå¯†ç : [è¯·è¾“å…¥åŸå¯†ç ]
æ–°å¯†ç : [è¯·è¾“å…¥æ–°å¯†ç ]
ç¡®è®¤å¯†ç : [è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ]

[é‡ç½®] [ä¿®æ”¹å¯†ç ]
```

## å¸¸è§é—®é¢˜æ’æŸ¥

### Q1: åˆ·æ–°åä»ç„¶æ˜¾ç¤ºä¸­æ–‡

**åŸå› **: æµè§ˆå™¨ç¼“å­˜äº†æ—§ç‰ˆæœ¬çš„ common.js

**è§£å†³æ–¹æ¡ˆ**:
1. æŒ‰ Ctrl+Shift+Delete æ‰“å¼€æ¸…é™¤ç¼“å­˜å¯¹è¯æ¡†
2. é€‰æ‹© "ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"
3. ç‚¹å‡» "æ¸…é™¤æ•°æ®"
4. æˆ–è€…æŒ‰ Ctrl+F5 å¼ºåˆ¶åˆ·æ–°

### Q2: éƒ¨åˆ†æ–‡æœ¬æ˜¾ç¤ºè‹±æ–‡,éƒ¨åˆ†æ˜¾ç¤ºä¸­æ–‡

**åŸå› **: æŸäº›å…ƒç´ æ²¡æœ‰ä½¿ç”¨ data-i18n å±æ€§,æˆ–ç¿»è¯‘é”®ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ HTML å…ƒç´ æ˜¯å¦æœ‰ data-i18n å±æ€§
2. æ£€æŸ¥ common.js ä¸­æ˜¯å¦å­˜åœ¨å¯¹åº”çš„ç¿»è¯‘é”®
3. æ£€æŸ¥ç¿»è¯‘é”®çš„æ‹¼å†™æ˜¯å¦æ­£ç¡®

### Q3: è¾“å…¥æ¡†çš„ placeholder æ²¡æœ‰ç¿»è¯‘

**åŸå› **: è¾“å…¥æ¡†å¯èƒ½æ²¡æœ‰ data-i18n å±æ€§,æˆ–å…ƒç´ ç±»å‹åˆ¤æ–­æœ‰è¯¯

**è§£å†³æ–¹æ¡ˆ**:
æ£€æŸ¥ä»£ç ä¸­çš„è¾“å…¥æ¡†å¤„ç†é€»è¾‘:
```javascript
if (el.type === 'text' || el.type === 'password' || el.type === 'email' || el.tagName === 'TEXTAREA') {
    el.placeholder = t[key];
}
```

## æ‰©å±•æ€§

### æ·»åŠ æ–°çš„ç¿»è¯‘é¡µé¢

å¦‚æœå…¶ä»–é¡µé¢ä¹Ÿä½¿ç”¨ `data-i18n` å±æ€§,ç°åœ¨å¯ä»¥ç›´æ¥å·¥ä½œ:

1. **åœ¨ HTML ä¸­æ·»åŠ  data-i18n å±æ€§**:
   ```html
   <h1 data-i18n="newPage.title">æ–°é¡µé¢æ ‡é¢˜</h1>
   <p data-i18n="newPage.description">é¡µé¢æè¿°</p>
   ```

2. **åœ¨ common.js ä¸­æ·»åŠ ç¿»è¯‘é”®**:
   ```javascript
   // ä¸­æ–‡
   'newPage.title': 'æ–°é¡µé¢æ ‡é¢˜',
   'newPage.description': 'é¡µé¢æè¿°',

   // è‹±æ–‡
   'newPage.title': 'New Page Title',
   'newPage.description': 'Page description',
   ```

3. **æ— éœ€å…¶ä»–ä¿®æ”¹** - ç¿»è¯‘ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ!

### æ”¯æŒæ›´å¤šè¯­è¨€

æ·»åŠ æ—¥æ–‡ã€éŸ©æ–‡ç­‰å…¶ä»–è¯­è¨€:

```javascript
const translations = {
    zh: { /* ä¸­æ–‡ç¿»è¯‘ */ },
    en: { /* è‹±æ–‡ç¿»è¯‘ */ },
    ja: {  // æ—¥æ–‡
        'accountSettings.pageTitle': 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š',
        'accountSettings.pageSubtitle': 'å€‹äººæƒ…å ±ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç®¡ç†',
        // ...
    },
    ko: {  // éŸ©æ–‡
        'accountSettings.pageTitle': 'ê³„ì • ì„¤ì •',
        'accountSettings.pageSubtitle': 'ê°œì¸ ì •ë³´ ë° ë³´ì•ˆ ê´€ë¦¬',
        // ...
    }
};
```

## ç›¸å…³æ–‡ä»¶

- **ç¿»è¯‘æ–‡ä»¶**: [common.js](common.js)
  - ä¸­æ–‡ç¿»è¯‘: ç¬¬2183-2208è¡Œ
  - è‹±æ–‡ç¿»è¯‘: ç¬¬5598-5623è¡Œ
  - setLanguage å‡½æ•°ä¿®æ”¹: ç¬¬7196-7213è¡Œ
- **é¡µé¢æ–‡ä»¶**: [account-settings.html](account-settings.html)
  - ä½¿ç”¨ data-i18n å±æ€§æ ‡è®°æ‰€æœ‰éœ€è¦ç¿»è¯‘çš„å…ƒç´ 

## æ€»ç»“

æ­¤æ¬¡ä¿®å¤åŒ…å«ä¸¤ä¸ªå…³é”®éƒ¨åˆ†:

1. âœ… **æ·»åŠ ç¿»è¯‘é”®å®šä¹‰** (26ä¸ªä¸­è‹±æ–‡ç¿»è¯‘é”®)
2. âœ… **æ‰©å±• setLanguage å‡½æ•°** (æ”¯æŒ data-i18n å±æ€§)

ä¿®å¤åçš„æ•ˆæœ:
- âœ… è´¦å·è®¾ç½®é¡µé¢å®Œå…¨æ”¯æŒå›½é™…åŒ–
- âœ… ä¸­è‹±æ–‡åˆ‡æ¢æµç•…æ— å»¶è¿Ÿ
- âœ… æ”¯æŒä½¿ç”¨ data-i18n å±æ€§çš„æ‰€æœ‰é¡µé¢
- âœ… ä¸ºæœªæ¥æ·»åŠ æ›´å¤šè¯­è¨€æ‰“ä¸‹åŸºç¡€

**é‡è¦æç¤º**: è¯·ç¡®ä¿åˆ·æ–°æµè§ˆå™¨ç¼“å­˜,ä»¥åŠ è½½æœ€æ–°ç‰ˆæœ¬çš„ common.js! ğŸ‰
