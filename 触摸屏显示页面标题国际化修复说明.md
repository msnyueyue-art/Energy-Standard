# 触摸屏显示页面标题国际化修复说明

## 问题描述
在触摸屏显示页面 (touchscreen-display.html) 中,浏览器标签页的页面标题"触摸屏展示 - 13.3寸"是硬编码的中文,在英文环境下没有切换为英文 "Touchscreen Display - 13.3""。

## 问题位置
- 文件: `touchscreen/touchscreen-display.html`
- 行号: 5
- 问题代码:
```html
<title>触摸屏展示 - 13.3寸</title>
```

## 修复方案

### 1. 扩展 setLanguage 函数以支持页面标题更新

在 `common.js` 中的 setLanguage 函数内添加页面标题更新逻辑 (第7935-7942行):

```javascript
// 更新页面标题(如果title标签有data-translate属性)
const titleElement = document.querySelector('title[data-translate]');
if (titleElement) {
    const titleKey = titleElement.getAttribute('data-translate');
    if (t[titleKey]) {
        document.title = t[titleKey];
    }
}
```

### 2. 添加国际化翻译键

在 `common.js` 中添加触摸屏显示页面标题的翻译配置:

**中文翻译 (第3044行):**
```javascript
touchscreenDisplayTitle: '触摸屏展示 - 13.3寸',
```

**英文翻译 (第6787行):**
```javascript
touchscreenDisplayTitle: 'Touchscreen Display - 13.3"',
```

### 3. 修改HTML标题标签

**修改前:**
```html
<title>触摸屏展示 - 13.3寸</title>
```

**修改后:**
```html
<title data-translate="touchscreenDisplayTitle">触摸屏展示 - 13.3寸</title>
```

### 4. 引入国际化脚本

在页面底部引入 common.js (第829行):
```html
<script src="../common.js"></script>
```

## 技术实现原理

1. **title 标签支持**: 扩展了 setLanguage 函数,使其能够识别 `<title>` 标签上的 `data-translate` 属性
2. **document.title 更新**: 通过 `document.title` API 动态更新浏览器标签页标题
3. **语言切换响应**: 当用户切换语言时,页面标题会实时更新

## 修复效果
- ✅ 中文环境: 浏览器标签页显示"触摸屏展示 - 13.3寸"
- ✅ 英文环境: 浏览器标签页显示"Touchscreen Display - 13.3""
- ✅ 语言切换时实时更新页面标题
- ✅ 不影响页面其他功能

## 测试方法
1. 打开触摸屏显示页面: `touchscreen/touchscreen-display.html`
2. 观察浏览器标签页的标题
3. 切换语言(中/英文),验证标题是否正确更新:
   - 中文: "触摸屏展示 - 13.3寸"
   - English: "Touchscreen Display - 13.3""

## 相关文件
- `touchscreen/touchscreen-display.html` - 触摸屏显示页面
- `common.js` - 国际化翻译配置文件和 setLanguage 函数

## 通用方案
此修复方案具有通用性,任何需要国际化页面标题的 HTML 文件都可以采用相同的方法:

1. 在 `<title>` 标签添加 `data-translate` 属性
2. 在 `common.js` 的翻译对象中添加对应的翻译键
3. 引入 `common.js` 脚本

## 修复日期
2026-01-14
