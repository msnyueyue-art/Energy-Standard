# ç¼–è¾‘æ¨¡æ¿é¡µé¢å›½é™…åŒ–ä¿®å¤è¯´æ˜

## é—®é¢˜æè¿°

åœ¨è‹±æ–‡ç¯å¢ƒä¸‹,ç‚¹å‡»ä»é¢„è®¾æ¨¡æ¿åˆ›å»ºçš„è´­ç”µæ¨¡æ¿,å†æ‰“å¼€ã€ç¼–è¾‘æ¨¡æ¿é¡µé¢ã€‘æ—¶:
- âŒ æ¨¡æ¿åç§°è¾“å…¥æ¡†æ˜¾ç¤ºä¸­æ–‡(å¦‚"æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·")
- âŒ æ¨¡æ¿è¯´æ˜è¾“å…¥æ¡†æ˜¾ç¤ºä¸­æ–‡(å¦‚"é€‚ç”¨äºæ±Ÿè‹åœ°åŒºå·¥å•†ä¸šç”¨ç”µ,åŒ…å«å°–å³°å¹³è°·å››ä¸ªæ—¶æ®µ")

**é¢„æœŸè¡Œä¸º:**
- âœ… åº”è¯¥æ˜¾ç¤ºç¿»è¯‘åçš„è‹±æ–‡æ–‡æœ¬
- âœ… ä¿å­˜æ—¶åº”ä¿æŒåŸå§‹çš„ä¸­æ–‡é”®,ä»¥ç¡®ä¿å›½é™…åŒ–ç³»ç»Ÿæ­£å¸¸å·¥ä½œ

## æ ¹æœ¬åŸå› 

`editTemplate` å‡½æ•°åœ¨å¡«å……ç¼–è¾‘è¡¨å•æ—¶,ç›´æ¥ä½¿ç”¨äº†å­˜å‚¨çš„åŸå§‹æ•°æ®:
```javascript
document.getElementById('templateName').value = template.name;  // ç›´æ¥ä½¿ç”¨ä¸­æ–‡
document.getElementById('templateDesc').value = template.description || '';  // ç›´æ¥ä½¿ç”¨ä¸­æ–‡
```

è¿™å¯¼è‡´å³ä½¿æœ‰ `templateI18n` ç¿»è¯‘æ˜ å°„,ç¼–è¾‘é¡µé¢ä¹Ÿæ— æ³•æ­£ç¡®æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬ã€‚

## æŠ€æœ¯æŒ‘æˆ˜

ä¿®å¤è¿™ä¸ªé—®é¢˜éœ€è¦è§£å†³ä¸€ä¸ªå…³é”®çŸ›ç›¾:

1. **æ˜¾ç¤ºå±‚é¢**: éœ€è¦åœ¨è¾“å…¥æ¡†ä¸­æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬(è‹±æ–‡)
2. **æ•°æ®å±‚é¢**: ä¿å­˜æ—¶å¿…é¡»ä¿å­˜åŸå§‹é”®(ä¸­æ–‡),å¦åˆ™ä¼šç ´åå›½é™…åŒ–ç³»ç»Ÿ

### é”™è¯¯æ–¹æ¡ˆ âŒ

å¦‚æœåªæ˜¯ç®€å•åœ°æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬:
```javascript
document.getElementById('templateName').value = getTemplateI18nText(template.name);
```

ä¿å­˜æ—¶ä¼šä¿å­˜è‹±æ–‡æ–‡æœ¬,å¯¼è‡´:
- åˆ‡æ¢å›ä¸­æ–‡ç¯å¢ƒæ—¶,æ¨¡æ¿åç§°å˜æˆè‹±æ–‡
- `templateI18n` æ˜ å°„æ— æ³•æ‰¾åˆ°å¯¹åº”çš„é”®
- å›½é™…åŒ–ç³»ç»Ÿå¤±æ•ˆ

## è§£å†³æ–¹æ¡ˆ

### æ ¸å¿ƒæ€è·¯

ä½¿ç”¨ **HTML5 data-* è‡ªå®šä¹‰å±æ€§** æ¥å­˜å‚¨åŸå§‹é”®,å®ç°:
- è¾“å…¥æ¡†æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬(ç”¨æˆ·å¯è§)
- data-original-key å±æ€§å­˜å‚¨åŸå§‹é”®(ç³»ç»Ÿä½¿ç”¨)
- ä¿å­˜æ—¶ä¼˜å…ˆä½¿ç”¨åŸå§‹é”®

### 1. ä¿®æ”¹ editTemplate å‡½æ•° (ç¬¬5518-5537è¡Œ)

```javascript
// åˆ¤æ–­æ˜¯å¦ä¸ºé¢„è®¾æ¨¡æ¿(æœ‰å›½é™…åŒ–ç¿»è¯‘çš„æ¨¡æ¿)
const isPresetTemplate = templateI18n[template.name] !== undefined;

if (isPresetTemplate) {
    // é¢„è®¾æ¨¡æ¿:æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬,ä½†ä¿å­˜æ—¶ä½¿ç”¨åŸå§‹é”®
    document.getElementById('templateName').value = getTemplateI18nText(template.name);
    document.getElementById('templateDesc').value = getTemplateI18nText(template.description) || '';

    // å­˜å‚¨åŸå§‹é”®,ç”¨äºä¿å­˜æ—¶æ¢å¤
    document.getElementById('templateName').setAttribute('data-original-key', template.name);
    document.getElementById('templateDesc').setAttribute('data-original-key', template.description || '');
} else {
    // ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿:ç›´æ¥æ˜¾ç¤ºåŸå§‹æ–‡æœ¬
    document.getElementById('templateName').value = template.name;
    document.getElementById('templateDesc').value = template.description || '';

    // æ¸…é™¤åŸå§‹é”®å±æ€§
    document.getElementById('templateName').removeAttribute('data-original-key');
    document.getElementById('templateDesc').removeAttribute('data-original-key');
}
```

**å·¥ä½œåŸç†:**
1. æ£€æŸ¥æ¨¡æ¿åç§°æ˜¯å¦åœ¨ `templateI18n` ä¸­å­˜åœ¨
2. å¦‚æœæ˜¯é¢„è®¾æ¨¡æ¿:
   - æ˜¾ç¤ºç¿»è¯‘åçš„æ–‡æœ¬
   - åœ¨ data-original-key ä¸­å­˜å‚¨åŸå§‹ä¸­æ–‡é”®
3. å¦‚æœæ˜¯ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿:
   - ç›´æ¥æ˜¾ç¤ºç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬
   - æ¸…é™¤ data-original-key å±æ€§

### 2. ä¿®æ”¹ saveTemplate å‡½æ•° (ç¬¬5274-5282è¡Œ)

```javascript
function saveTemplate() {
    const nameInput = document.getElementById('templateName');
    const descInput = document.getElementById('templateDesc');

    // å¦‚æœæ˜¯é¢„è®¾æ¨¡æ¿,ä½¿ç”¨åŸå§‹é”®;å¦åˆ™ä½¿ç”¨è¾“å…¥çš„æ–‡æœ¬
    const name = nameInput.getAttribute('data-original-key') || nameInput.value;
    const desc = descInput.getAttribute('data-original-key') || descInput.value;

    const type = document.getElementById('templateType').value;
    const purpose = document.getElementById('templatePurpose').value;
    // ... åç»­é€»è¾‘
}
```

**å·¥ä½œåŸç†:**
1. è·å–è¾“å…¥æ¡†å…ƒç´ 
2. å°è¯•è¯»å– data-original-key å±æ€§
3. å¦‚æœå­˜åœ¨ data-original-key(é¢„è®¾æ¨¡æ¿),ä½¿ç”¨åŸå§‹é”®
4. å¦‚æœä¸å­˜åœ¨(ç”¨æˆ·è‡ªå®šä¹‰),ä½¿ç”¨è¾“å…¥æ¡†çš„å€¼

### 3. è¡¨å•é‡ç½®æ—¶æ¸…é™¤å±æ€§ (ç¬¬2804-2806è¡Œ)

```javascript
// æ¸…é™¤åŸå§‹é”®å±æ€§
document.getElementById('templateName').removeAttribute('data-original-key');
document.getElementById('templateDesc').removeAttribute('data-original-key');
```

ç¡®ä¿æ–°å»ºæ¨¡æ¿æ—¶ä¸ä¼šé”™è¯¯åœ°ä½¿ç”¨ä¹‹å‰çš„åŸå§‹é”®ã€‚

## æ•°æ®æµç¨‹å›¾

### é¢„è®¾æ¨¡æ¿ç¼–è¾‘æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ‰“å¼€ç¼–è¾‘é¡µé¢                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ template.name = "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"                           â”‚
â”‚ templateI18n["æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"].en = "Jiangsu Peak-Valley..." â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. editTemplate å‡½æ•°å¤„ç†                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isPresetTemplate = true                                      â”‚
â”‚                                                              â”‚
â”‚ è¾“å…¥æ¡†æ˜¾ç¤º:                                                  â”‚
â”‚   value = "Jiangsu Peak-Valley..."  (ç¿»è¯‘åçš„è‹±æ–‡)          â”‚
â”‚                                                              â”‚
â”‚ HTML å±æ€§:                                                   â”‚
â”‚   data-original-key = "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"  (åŸå§‹ä¸­æ–‡é”®)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ç”¨æˆ·çœ‹åˆ°è‹±æ–‡å¹¶å¯èƒ½ä¿®æ”¹ä»·æ ¼/æ—¶æ®µé…ç½®                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥æ¡†æ˜¾ç¤º: "Jiangsu Peak-Valley..." (å¯è§)                 â”‚
â”‚ data-original-key: "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·" (éšè—,ä¸å¯è§)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ç‚¹å‡»ä¿å­˜ - saveTemplate å‡½æ•°                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ const name = nameInput.getAttribute('data-original-key')     â”‚
â”‚            || nameInput.value;                               â”‚
â”‚                                                              â”‚
â”‚ ç»“æœ: name = "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"  (ä½¿ç”¨åŸå§‹é”®!)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ä¿å­˜åˆ° templates æ•°ç»„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                                                            â”‚
â”‚   id: 1,                                                     â”‚
â”‚   name: "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·",  â† ä¿å­˜åŸå§‹é”®!                  â”‚
â”‚   description: "é€‚ç”¨äºæ±Ÿè‹åœ°åŒº...",                          â”‚
â”‚   ...                                                        â”‚
â”‚ }                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. å›½é™…åŒ–ç³»ç»Ÿç»§ç»­æ­£å¸¸å·¥ä½œ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆ‡æ¢åˆ°ä¸­æ–‡: getTemplateI18nText("æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·")         â”‚
â”‚           â†’ "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"                               â”‚
â”‚                                                              â”‚
â”‚ åˆ‡æ¢åˆ°è‹±æ–‡: getTemplateI18nText("æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·")         â”‚
â”‚           â†’ "Jiangsu Peak-Valley Pricing"                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ‰“å¼€ç¼–è¾‘é¡µé¢                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ template.name = "My Custom Template"  (ç”¨æˆ·è¾“å…¥çš„è‹±æ–‡)      â”‚
â”‚ templateI18n["My Custom Template"] = undefined  (æ— ç¿»è¯‘æ˜ å°„) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. editTemplate å‡½æ•°å¤„ç†                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isPresetTemplate = false                                     â”‚
â”‚                                                              â”‚
â”‚ è¾“å…¥æ¡†æ˜¾ç¤º:                                                  â”‚
â”‚   value = "My Custom Template"  (ç›´æ¥æ˜¾ç¤ºåŸæ–‡)              â”‚
â”‚                                                              â”‚
â”‚ HTML å±æ€§:                                                   â”‚
â”‚   (æ—  data-original-key å±æ€§)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ç”¨æˆ·ä¿®æ”¹åç§°ä¸º "My Updated Template"                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥æ¡†æ˜¾ç¤º: "My Updated Template"                            â”‚
â”‚ (æ—  data-original-key å±æ€§)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ç‚¹å‡»ä¿å­˜ - saveTemplate å‡½æ•°                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ const name = nameInput.getAttribute('data-original-key')     â”‚
â”‚            || nameInput.value;                               â”‚
â”‚                                                              â”‚
â”‚ ç»“æœ: name = "My Updated Template"  (ä½¿ç”¨è¾“å…¥æ¡†çš„å€¼)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ä¿å­˜åˆ° templates æ•°ç»„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                                                            â”‚
â”‚   id: 1,                                                     â”‚
â”‚   name: "My Updated Template",  â† ä¿å­˜ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬       â”‚
â”‚   description: "Custom description",                         â”‚
â”‚   ...                                                        â”‚
â”‚ }                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¿®å¤æ•ˆæœ

### é¢„è®¾æ¨¡æ¿ (æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·)

| è¯­è¨€ç¯å¢ƒ | åˆ—è¡¨æ˜¾ç¤º | è¯¦æƒ…æ˜¾ç¤º | ç¼–è¾‘é¡µé¢æ˜¾ç¤º | ä¿å­˜åçš„æ•°æ® |
|---------|---------|---------|-------------|-------------|
| ä¸­æ–‡ | æ±Ÿè‹å³°è°·å¹³å°–ç”µä»· | æ±Ÿè‹å³°è°·å¹³å°–ç”µä»· | æ±Ÿè‹å³°è°·å¹³å°–ç”µä»· | "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·" |
| è‹±æ–‡ | Jiangsu Peak-Valley... | Jiangsu Peak-Valley... | **Jiangsu Peak-Valley...** âœ… | "æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·" âœ… |

### ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿

| è¯­è¨€ç¯å¢ƒ | åˆ—è¡¨æ˜¾ç¤º | è¯¦æƒ…æ˜¾ç¤º | ç¼–è¾‘é¡µé¢æ˜¾ç¤º | ä¿å­˜åçš„æ•°æ® |
|---------|---------|---------|-------------|-------------|
| ä¸­æ–‡ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | "æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿" |
| è‹±æ–‡ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿ | "æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿" |

## ä¼˜åŠ¿

1. **å›½é™…åŒ–å‹å¥½**: é¢„è®¾æ¨¡æ¿å§‹ç»ˆä½¿ç”¨åŸå§‹é”®,ç¡®ä¿å¤šè¯­è¨€æ”¯æŒ
2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**: è‹±æ–‡ç¯å¢ƒä¸‹çœ‹åˆ°è‹±æ–‡,ä¸­æ–‡ç¯å¢ƒä¸‹çœ‹åˆ°ä¸­æ–‡
3. **æ•°æ®ä¸€è‡´æ€§**: ä¿å­˜çš„æ•°æ®æ ¼å¼ç»Ÿä¸€,ä¸ä¼šå› ä¸ºç¼–è¾‘è€Œæ”¹å˜
4. **å‘åå…¼å®¹**: ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿ä¸å—å½±å“,å¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€
5. **å¯ç»´æŠ¤æ€§**: é€»è¾‘æ¸…æ™°,æ˜“äºç†è§£å’Œæ‰©å±•

## æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯ 1: ç¼–è¾‘é¢„è®¾æ¨¡æ¿

1. åˆ‡æ¢åˆ°è‹±æ–‡ç¯å¢ƒ
2. åˆ›å»ºä¸€ä¸ªåŸºäº"æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·"çš„æ¨¡æ¿
3. ç‚¹å‡» Edit æŒ‰é’®æ‰“å¼€ç¼–è¾‘é¡µé¢
4. **éªŒè¯**: æ¨¡æ¿åç§°æ˜¾ç¤º "Jiangsu Peak-Valley-Flat-Sharp Pricing" âœ…
5. **éªŒè¯**: æ¨¡æ¿è¯´æ˜æ˜¾ç¤ºè‹±æ–‡ âœ…
6. ä¿®æ”¹æŸä¸ªæ—¶æ®µçš„ä»·æ ¼
7. ç‚¹å‡» Save Template
8. åˆ‡æ¢å›ä¸­æ–‡ç¯å¢ƒ
9. **éªŒè¯**: æ¨¡æ¿åç§°ä»ç„¶æ­£ç¡®ç¿»è¯‘ä¸º"æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·" âœ…

### æµ‹è¯•åœºæ™¯ 2: ç¼–è¾‘ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿

1. åœ¨è‹±æ–‡ç¯å¢ƒä¸‹åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿,è¾“å…¥åç§° "My Custom Pricing"
2. ä¿å­˜åç¼–è¾‘è¯¥æ¨¡æ¿
3. **éªŒè¯**: è¾“å…¥æ¡†æ˜¾ç¤º "My Custom Pricing" âœ…
4. ä¿®æ”¹åç§°ä¸º "Updated Custom Pricing"
5. ä¿å­˜
6. **éªŒè¯**: åˆ—è¡¨ä¸­æ˜¾ç¤º "Updated Custom Pricing" âœ…

## ç›¸å…³æ–‡ä»¶

- `electricity-price-new.html`:
  - ç¬¬5518-5537è¡Œ: editTemplate å‡½æ•°ä¿®å¤
  - ç¬¬5274-5282è¡Œ: saveTemplate å‡½æ•°ä¿®å¤
  - ç¬¬2804-2806è¡Œ: è¡¨å•é‡ç½®æ—¶æ¸…é™¤å±æ€§

## æŠ€æœ¯è¦ç‚¹

### HTML5 data-* å±æ€§

```html
<!-- é¢„è®¾æ¨¡æ¿çš„è¾“å…¥æ¡† -->
<input id="templateName"
       value="Jiangsu Peak-Valley Pricing"
       data-original-key="æ±Ÿè‹å³°è°·å¹³å°–ç”µä»·">

<!-- ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿çš„è¾“å…¥æ¡† -->
<input id="templateName"
       value="My Custom Template">
       <!-- æ—  data-original-key å±æ€§ -->
```

### JavaScript å±æ€§æ“ä½œ

```javascript
// è®¾ç½®å±æ€§
element.setAttribute('data-original-key', value);

// è·å–å±æ€§ (ä¸å­˜åœ¨æ—¶è¿”å› null)
element.getAttribute('data-original-key');

// åˆ é™¤å±æ€§
element.removeAttribute('data-original-key');

// ä½¿ç”¨ || è¿ç®—ç¬¦æä¾›é»˜è®¤å€¼
const name = element.getAttribute('data-original-key') || element.value;
```

## æ€»ç»“

æ­¤æ¬¡ä¿®å¤é€šè¿‡å·§å¦™åœ°ä½¿ç”¨ HTML5 data-* å±æ€§,å®Œç¾è§£å†³äº†å›½é™…åŒ–æ˜¾ç¤ºä¸æ•°æ®å­˜å‚¨çš„çŸ›ç›¾:

âœ… **ç”¨æˆ·ä½“éªŒ**: è‹±æ–‡ç¯å¢ƒä¸‹çœ‹åˆ°è‹±æ–‡,ä½“éªŒæµç•…
âœ… **æ•°æ®å®Œæ•´æ€§**: ä¿å­˜æ—¶ä½¿ç”¨åŸå§‹é”®,å›½é™…åŒ–ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
âœ… **å…¼å®¹æ€§**: ä¸å½±å“ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿çš„åŠŸèƒ½
âœ… **å¯ç»´æŠ¤æ€§**: ä»£ç é€»è¾‘æ¸…æ™°,æ˜“äºç†è§£å’Œæ‰©å±•

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„**å‰ç«¯å›½é™…åŒ–æœ€ä½³å®è·µæ¡ˆä¾‹**! ğŸ‰
